<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar - Plataforma E-learning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" /> -->
</head>
<body class="bg-gray-100 flex flex-col min-h-screen">

<nav class="bg-gray-800 text-white p-4">
    <div class="container mx-auto flex justify-between items-center">
        <a th:href="@{/}" class="text-xl font-bold">E-learning</a>
        <div>
            <a th:href="@{/cursos}" class="px-3">Cursos</a>
            <a th:href="@{/login}" class="px-3">Login</a>
        </div>
    </div>
</nav>

<main class="flex-grow container mx-auto flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8">
        <div>
            <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Crie sua conta</h2>
            <p class="mt-2 text-center text-sm text-gray-600">
                Já tem uma conta?
                <a th:href="@{/login}" class="font-medium text-indigo-600 hover:text-indigo-500">Faça login</a>
            </p>
        </div>

        <!-- Mensagens de Erro/Sucesso -->
        <div th:if="${errorMessage}" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative text-center" role="alert">
            <span th:text="${errorMessage}"></span>
        </div>
        <div th:if="${registrationSuccessMessage}" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative text-center" role="alert">
            <span th:text="${registrationSuccessMessage}"></span>
        </div>

        <form th:action="@{/auth/register}" th:object="${registroRequest}" method="post" class="mt-8 space-y-6">
            <div>
                <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                <div class="mt-1">
                    <input id="email" name="email" type="email" th:field="*{email}" autocomplete="email" required
                           class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                           placeholder="seu@email.com">
                    <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-xs text-red-600 mt-1"></p>
                </div>
            </div>

            <div>
                <label for="senha" class="block text-sm font-medium text-gray-700">Senha</label>
                <div class="mt-1">
                    <input id="senha" name="senha" type="password" th:field="*{senha}" autocomplete="new-password" required
                           class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                           placeholder="Pelo menos 6 caracteres">
                    <p th:if="${#fields.hasErrors('senha')}" th:errors="*{senha}" class="text-xs text-red-600 mt-1"></p>
                </div>
            </div>

            <div>
                <label for="confirmarSenha" class="block text-sm font-medium text-gray-700">Confirmar Senha</label>
                <div class="mt-1">
                    <input id="confirmarSenha" name="confirmarSenha" type="password" autocomplete="new-password" required
                           class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                           placeholder="Repita a senha">
                </div>
            </div>

            <div>
                <button type="submit"
                        class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    Registrar
                </button>
            </div>
        </form>
    </div>
</main>

<footer class="text-center p-4 mt-auto text-gray-600">
    © <span th:text="${#dates.year(#dates.createNow())}"></span> Plataforma E-learning.
</footer>

</body>
</html>
