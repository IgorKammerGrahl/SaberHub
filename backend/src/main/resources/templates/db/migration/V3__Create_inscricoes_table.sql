CREATE TABLE inscricoes (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    curso_id_mongo VARCHAR(255) NOT NULL,
    usuario_id BIGINT NOT NULL,
    data_inscricao TIMESTAMP WITHOUT TIME ZONE NOT NULL,
    status VARCHAR(20) NOT NULL, -- Ajustado para o tamanho do enum + margem

    CONSTRAINT fk_inscricao_usuario
        FOREIGN KEY(usuario_id) 
        REFERENCES usuarios(id)
        ON DELETE CASCADE
);

CREATE INDEX idx_inscricoes_usuario_id ON inscricoes(usuario_id);
CREATE INDEX idx_inscricoes_curso_id_mongo ON inscricoes(curso_id_mongo);
CREATE INDEX idx_inscricoes_status ON inscricoes(status);